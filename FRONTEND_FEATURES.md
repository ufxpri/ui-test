# Frontend Features - Tab Structure

CCTV 모니터링 시스템의 각 탭별 기능 명세

## 📺 1. 라이브 탭 (LiveTab)

```
라이브 탭
├── 좌측 사이드바
│   ├── 카메라 목록 (드래그 가능)
│   │   ├── 카메라 이름
│   │   ├── 상태 인디케이터 (active/inactive/error/connecting)
│   │   └── 드래그 핸들 (☰)
│   └── 실시간 상태 업데이트 (WebSocket)
│       └── camera.status_changed 이벤트 수신
│
├── 우측 그리드 영역
│   ├── 동적 그리드 레이아웃 (√n 열)
│   ├── 비디오 카드들
│   │   ├── 비디오 플레이어 (controls, muted, autoPlay, loop)
│   │   ├── 카메라 타이틀
│   │   ├── 상태 배지
│   │   └── 전체화면 버튼 (옵션)
│   └── 빈 상태 (카메라 없을 때)
│
└── 기능
    ├── 드래그 앤 드롭으로 순서 변경
    ├── 순서 변경 시 백엔드 저장 (api.cameras.reorder)
    ├── 카메라 상태 실시간 업데이트
    └── 그리드 자동 리사이징
```

## ⚙️ 2. 카메라 리스트 설정 탭 (CameraTab)

```
카메라 설정 탭
├── 상단 액션 바
│   ├── 새 카메라 추가 버튼
│   ├── 검색/필터 입력
│   └── 새로고침 버튼
│
├── 카메라 목록 테이블
│   ├── 테이블 헤더
│   │   ├── ID
│   │   ├── 이름
│   │   ├── 위치
│   │   ├── 스트림 URL
│   │   ├── 상태
│   │   └── 액션
│   │
│   └── 카메라 행
│       ├── 카메라 정보 표시
│       ├── 상태 토글 (active/inactive)
│       ├── 편집 버튼
│       ├── 삭제 버튼
│       └── 테스트 연결 버튼
│
├── 카메라 추가/수정 모달
│   ├── 폼 필드
│   │   ├── 카메라 이름 * (required)
│   │   ├── 스트림 URL * (RTSP/HLS/HTTP)
│   │   ├── 위치 (선택)
│   │   ├── 설명 (선택)
│   │   └── 메타데이터 (JSON, 선택)
│   │
│   ├── 유효성 검사
│   │   ├── 이름: 1-100자
│   │   ├── URL: 유효한 URI 형식
│   │   └── 중복 체크
│   │
│   └── 액션 버튼
│       ├── 저장
│       ├── 취소
│       └── 연결 테스트
│
├── 삭제 확인 다이얼로그
│   ├── 경고 메시지
│   ├── 카메라 정보 표시
│   └── 확인/취소 버튼
│
└── API 연동
    ├── GET /cameras - 목록 조회
    ├── POST /cameras - 추가
    ├── PUT /cameras/{id} - 수정
    ├── DELETE /cameras/{id} - 삭제
    ├── PATCH /cameras/{id}/status - 상태 변경
    └── WebSocket - 상태 실시간 업데이트
```

## 📊 3. 라이브 데이터 처리 프로세스 모니터링 탭 (ProcessTab)

```
프로세스 모니터링 탭
├── 시스템 전체 개요
│   ├── 시스템 메트릭 카드
│   │   ├── 총 CPU 사용률 (%)
│   │   ├── 총 메모리 사용량 (MB)
│   │   ├── 사용 가능 메모리 (MB)
│   │   └── 업타임
│   │
│   └── 상태 요약
│       ├── 실행 중인 프로세스 수
│       ├── 정지된 프로세스 수
│       └── 에러 프로세스 수
│
├── 프로세스 목록
│   ├── 프로세스 카드 (각 프로세스별)
│   │   ├── 프로세스 정보
│   │   │   ├── 이름 (video_processor, alert_detector 등)
│   │   │   ├── 상태 배지 (running/stopped/error/starting)
│   │   │   ├── PID
│   │   │   └── 업타임
│   │   │
│   │   ├── 리소스 사용량
│   │   │   ├── CPU 사용률 (% + 미니 차트)
│   │   │   └── 메모리 사용량 (MB + 미니 차트)
│   │   │
│   │   ├── 마지막 에러 (있을 경우)
│   │   │   ├── 에러 메시지
│   │   │   └── 발생 시간
│   │   │
│   │   └── 액션 버튼
│   │       ├── 재시작
│   │       ├── 중지/시작
│   │       └── 로그 보기
│   │
│   └── 필터/정렬
│       ├── 상태별 필터
│       └── 리소스 사용량 정렬
│
├── 메트릭 차트 섹션
│   ├── 시간 범위 선택
│   │   ├── 1시간
│   │   ├── 6시간
│   │   ├── 24시간
│   │   └── 7일
│   │
│   └── 차트
│       ├── CPU 사용률 타임라인
│       ├── 메모리 사용량 타임라인
│       └── 프로세스별 비교
│
├── 실시간 업데이트
│   ├── WebSocket 연결 상태 표시
│   └── process.status_changed 이벤트 수신
│       └── 프로세스 카드 자동 업데이트
│
└── API 연동
    ├── GET /process/status - 현재 상태 조회
    ├── GET /process/metrics?timeRange - 메트릭 조회
    └── WebSocket - 실시간 상태 업데이트
```

## 🚨 4. 실시간 알림 플로우 모니터링 탭 (AlertTab)

```
알림 모니터링 탭
├── 상단 필터 바
│   ├── 검색 입력
│   ├── 심각도 필터 (multi-select)
│   │   ├── Low
│   │   ├── Medium
│   │   ├── High
│   │   └── Critical
│   │
│   ├── 카메라 필터 (multi-select)
│   ├── 상태 필터 (new/acknowledged/resolved)
│   ├── 날짜 범위 선택
│   │   ├── 시작 날짜/시간
│   │   └── 종료 날짜/시간
│   │
│   └── 액션
│       ├── 필터 적용
│       ├── 필터 초기화
│       └── 자동 새로고침 토글
│
├── 알림 통계 카드
│   ├── 총 알림 수
│   ├── 새 알림 수 (new)
│   ├── 심각도별 분포
│   │   ├── Critical 수
│   │   ├── High 수
│   │   ├── Medium 수
│   │   └── Low 수
│   │
│   └── 카메라별 알림 수 (Top 5)
│
├── 알림 목록
│   ├── 알림 카드 (각 알림별)
│   │   ├── 헤더
│   │   │   ├── 심각도 배지 (색상별)
│   │   │   ├── 알림 타입 아이콘
│   │   │   ├── 상태 배지
│   │   │   └── 타임스탬프 (상대 시간)
│   │   │
│   │   ├── 내용
│   │   │   ├── 카메라 이름
│   │   │   ├── 알림 메시지
│   │   │   ├── 썸네일 이미지 (있을 경우)
│   │   │   └── 메타데이터 (confidence score 등)
│   │   │
│   │   └── 액션 버튼
│   │       ├── 확인(Acknowledge)
│   │       ├── 상세 보기
│   │       ├── 비디오 재생
│   │       └── 삭제
│   │
│   ├── 페이지네이션
│   │   ├── 페이지 번호
│   │   ├── 이전/다음
│   │   └── 페이지당 항목 수 선택
│   │
│   └── 무한 스크롤 (옵션)
│
├── 알림 상세 모달
│   ├── 전체 정보
│   │   ├── 알림 ID
│   │   ├── 카메라 정보
│   │   ├── 타입 및 심각도
│   │   ├── 발생 시간
│   │   └── 상태 히스토리
│   │
│   ├── 미디어
│   │   ├── 썸네일 (확대)
│   │   └── 비디오 클립 재생
│   │
│   ├── 메타데이터
│   │   ├── Confidence score
│   │   ├── Bounding boxes
│   │   └── 기타 감지 데이터
│   │
│   └── 액션
│       ├── 확인 처리
│       ├── 해결 표시
│       ├── 다운로드
│       └── 공유
│
├── 실시간 알림 토스트
│   ├── 새 알림 팝업 (우측 상단)
│   ├── 심각도별 색상/소리
│   ├── 빠른 액션 (확인/무시)
│   └── 알림 설정
│
├── 실시간 업데이트
│   ├── WebSocket 연결 상태
│   └── alert.new 이벤트 수신
│       ├── 목록 상단에 자동 추가
│       ├── 토스트 알림 표시
│       └── 브라우저 알림 (권한 있을 경우)
│
└── API 연동
    ├── GET /alerts - 목록 조회 (필터링)
    ├── GET /alerts/{id} - 상세 조회
    ├── POST /alerts/{id}/acknowledge - 확인 처리
    └── WebSocket - 실시간 알림 수신
```

## 🔍 5. 검색 페이지 탭 (SearchTab)

```
검색 탭
├── 검색 타입 선택 탭
│   ├── 비디오 검색
│   └── 이벤트 검색
│
├── 비디오 검색 섹션
│   ├── 검색 필터 폼
│   │   ├── 검색어 입력 *
│   │   ├── 카메라 선택 (multi-select)
│   │   ├── 날짜/시간 범위 *
│   │   │   ├── 시작 날짜/시간
│   │   │   └── 종료 날짜/시간
│   │   │
│   │   ├── 정렬 옵션
│   │   │   ├── 최신순
│   │   │   ├── 오래된 순
│   │   │   └── 관련도 순
│   │   │
│   │   └── 결과 수 제한 (기본 20)
│   │
│   ├── 검색 결과 그리드
│   │   ├── 비디오 카드
│   │   │   ├── 썸네일
│   │   │   ├── 카메라 이름
│   │   │   ├── 시작/종료 시간
│   │   │   ├── 재생 시간
│   │   │   ├── 파일 크기
│   │   │   └── 액션 버튼
│   │   │       ├── 재생
│   │   │       ├── 다운로드
│   │   │       └── 공유
│   │   │
│   │   └── 그리드 레이아웃 (3-4열)
│   │
│   ├── 비디오 플레이어 모달
│   │   ├── 전체 화면 플레이어
│   │   ├── 재생 컨트롤
│   │   │   ├── 재생/일시정지
│   │   │   ├── 시간 슬라이더
│   │   │   ├── 볼륨
│   │   │   ├── 재생 속도
│   │   │   └── 전체화면
│   │   │
│   │   ├── 비디오 정보
│   │   └── 관련 비디오 (같은 카메라)
│   │
│   └── 페이지네이션
│
├── 이벤트 검색 섹션
│   ├── 검색 필터 폼
│   │   ├── 이벤트 타입 (multi-select)
│   │   │   ├── Motion (움직임)
│   │   │   ├── Person (사람 감지)
│   │   │   ├── Vehicle (차량 감지)
│   │   │   ├── Face (얼굴 인식)
│   │   │   └── Object (객체 감지)
│   │   │
│   │   ├── 카메라 선택 (multi-select)
│   │   ├── 날짜/시간 범위 *
│   │   ├── Confidence 최소값 (슬라이더)
│   │   └── 정렬 옵션
│   │
│   ├── 검색 결과 타임라인
│   │   ├── 시간축 차트
│   │   │   ├── 이벤트 분포 표시
│   │   │   └── 타입별 색상 구분
│   │   │
│   │   └── 이벤트 카드 리스트
│   │       ├── 이벤트 정보
│   │       │   ├── 타입 아이콘
│   │       │   ├── 카메라 이름
│   │       │   ├── 타임스탬프
│   │       │   ├── Confidence score
│   │       │   ├── 썸네일
│   │       │   └── 메타데이터
│   │       │
│   │       └── 액션 버튼
│   │           ├── 상세 보기
│   │           ├── 비디오 재생 (해당 시점)
│   │           └── 알림 생성
│   │
│   └── 필터링된 통계
│       ├── 총 이벤트 수
│       ├── 타입별 분포 (파이 차트)
│       └── 시간대별 분포 (막대 그래프)
│
├── 공통 기능
│   ├── 검색 히스토리
│   │   ├── 최근 검색어
│   │   └── 즐겨찾기 검색
│   │
│   ├── 검색 결과 내보내기
│   │   ├── CSV
│   │   ├── JSON
│   │   └── PDF 리포트
│   │
│   ├── 빠른 필터 (프리셋)
│   │   ├── 오늘
│   │   ├── 어제
│   │   ├── 최근 7일
│   │   └── 최근 30일
│   │
│   └── 검색 상태
│       ├── 로딩 스피너
│       ├── 결과 없음 메시지
│       └── 에러 메시지
│
└── API 연동
    ├── GET /search/videos - 비디오 검색
    ├── GET /search/events - 이벤트 검색
    └── 결과 페이지네이션/무한 스크롤
```

## 🔧 공통 컴포넌트

```
공통 컴포넌트
├── 레이아웃
│   ├── Header (탭 바)
│   ├── Sidebar (선택적)
│   └── MainContent
│
├── 피드백
│   ├── LoadingSpinner (다양한 크기)
│   ├── LoadingSkeleton (카드, 테이블)
│   ├── ErrorMessage
│   ├── EmptyState
│   ├── Toast/Notification
│   └── ConfirmDialog
│
├── 폼
│   ├── Input (text, number, url)
│   ├── Textarea
│   ├── Select (single, multi)
│   ├── DateTimePicker
│   ├── Checkbox
│   ├── Radio
│   ├── Switch/Toggle
│   └── FormField (label + input + error)
│
├── 데이터 표시
│   ├── Table (정렬, 페이지네이션)
│   ├── Card
│   ├── Badge (상태, 심각도)
│   ├── Chip (필터 태그)
│   ├── Avatar/Icon
│   └── ProgressBar
│
├── 버튼
│   ├── Button (primary, secondary, danger)
│   ├── IconButton
│   └── ButtonGroup
│
├── 모달/다이얼로그
│   ├── Modal (일반)
│   ├── Drawer (슬라이드)
│   └── Popover
│
├── 미디어
│   ├── VideoPlayer
│   ├── ImageViewer
│   └── Thumbnail
│
└── 차트 (선택적)
    ├── LineChart (메트릭)
    ├── BarChart (분포)
    └── PieChart (비율)
```

## 🎣 커스텀 Hooks

```
커스텀 Hooks
├── 데이터 페칭
│   ├── useAPI (공통 API 호출)
│   ├── useCameras
│   ├── useAlerts
│   ├── useProcessStatus
│   └── useSearch
│
├── WebSocket
│   ├── useWebSocket (연결 관리)
│   ├── useAlertStream
│   ├── useProcessStream
│   └── useCameraStatus
│
├── 폼
│   ├── useForm (폼 상태 관리)
│   └── useValidation
│
├── UI
│   ├── useModal
│   ├── useToast
│   ├── usePagination
│   └── useDebounce
│
└── 유틸리티
    ├── useLocalStorage
    └── useInterval
```

## 📱 반응형 고려사항

```
반응형 디자인
├── 브레이크포인트
│   ├── Mobile: < 768px
│   ├── Tablet: 768px - 1024px
│   └── Desktop: > 1024px
│
├── 모바일 대응
│   ├── 탭 → 하단 네비게이션
│   ├── 사이드바 → 드로어
│   ├── 그리드 → 1-2열
│   └── 테이블 → 카드 리스트
│
└── 터치 제스처
    ├── 스와이프 네비게이션
    ├── 풀투리프레시
    └── Long press 메뉴
```

---

## 우선순위 제안

### Phase 1: 핵심 기능 (MVP)
1. ✅ LiveTab (이미 구현)
2. 🟡 CameraTab - CRUD 기능
3. 🟡 AlertTab - 목록 + WebSocket

### Phase 2: 모니터링
4. ProcessTab - 프로세스 상태
5. AlertTab - 완성 (통계, 필터)

### Phase 3: 고급 기능
6. SearchTab - 비디오/이벤트 검색
7. 고급 필터링 및 분석

### Phase 4: 개선
8. 성능 최적화
9. 반응형 디자인
10. 접근성 개선
